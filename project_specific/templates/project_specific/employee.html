{% extends "project_specific/base_generic.html" %}


{% block title %}
{% load static %}
<!-- <link rel='stylesheet' type='text/css' href="{% static 'project_specific/css/base.css'%}"> -->
<title>Profile</title>
{% endblock %}

{% block sidebar %}	
{% endblock %}

{% block navbar %}
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="#">Hangry</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="/users/logout">Logout<span class="sr-only">(current)</span></a>
        </li>
      </ul>

    </div>
  </nav>
{% endblock %}

{% block content %}
{% if messages %}

	{% for message in messages %}
	<script>alert('{{ message }}')</script>

    {% endfor %}

{% endif %}

{% if error %}
	<div class="alert alert-danger">
		<strong>{{ error|escape }}</strong>
	</div>
{% endif %}

<div class='row' style='margin-top: 30px'>
    <div class='col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5 offset-sm-1 offset-md-1 offset-lg-1 offset-xl-1'>
        <div class="form-inline actionForm" style="margin-bottom:10px;">
            <label for="task-action">Action</label>
            <select name="task-action" id="task-action" class="form-control">
                <option value="null">----</option>
                <option value="remove">Remove</option>
            </select>
            <button class="btn btn-success" onclick="taskActionButton()">Go</button>
            <button class="btn btn-info" onclick="saveChanges()" style="align:right;">Save</button>
        </div>

        <input type="text" placeholder="Search..." class="form-control" onkeyup="searchTable(this, 'activeOrderTable')"
			id="search-bar">
			<table class="table table-borderless table-striped table-hover table-responsive w-100 d-block">
				<thead>
					<tr>
						<th>
							<input type="checkbox" onclick="selectAll(this)" id="activeOrder-select-all">
							Select All
						</th>
						<th>Timestamp</th>
						<th>Vendor</th>
						<th>Meal</th>
						<th>Price</th>
					</tr>
				</thead>

				<tbody id="activeOrderTable"></tbody>
			</table>
    </div>

    <div class='col-12 col-sm-10 col-md-2 col-lg-4 col-xl-5'>
        <div class="form-group">
            <label for="vendor">Vendor: </label>
            <select id="vendor" class='form-control' onchange="populateMeal()">

            </select>

            <label for="meal">Meal: </label>
            <select id="meal" class='form-control'>

            </select>

            <label for="additional-notes">Notes: </label>
            <textarea id="additional-notes" rows="5" class="md-textarea form-control"></textarea>

            <button class="btn btn-block btn-primary" onclick="orderMeal()">Add</button>
        </div>
    </div>


</div>

{{ order_history|json_script:"order_history"}}
{{ active_order|json_script:"active_order"}}
{{ vendors|json_script:"vendors"}}


{% endblock %}

{% block javascript %}
    {% load static %}
    <script src="{% static 'project_specific/js/commonFunc.js'%}"></script>
    <script src="{% static 'project_specific/js/employee.js'%}"></script>
    
	
{% endblock %}